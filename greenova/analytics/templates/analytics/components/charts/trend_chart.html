{% extends 'analytics/layouts/analytics_base.html' %}
<figure role="region" 
        aria-label="{{ title }} Trend"
        class="chart-container">
    <header>
        <h3 id="chart-title-{{ id }}">{{ title }}</h3>
    </header>

    <canvas id="trend-chart-{{ id }}"
            data-chart="{{ trend_data|json_script }}"
            aria-labelledby="chart-title-{{ id }}"
            height="{{ height|default:'250px' }}">
    </canvas>

    <div class="htmx-indicator" role="status" aria-busy="true">
        Loading trend data...
    </div>

    <figcaption>
        <details>
            <summary>Trend Information</summary>
            <dl>
                <dt>Period</dt>
                <dd>{{ period }}</dd>
                <dt>Last Updated</dt>
                <dd>{{ last_updated|date:"j M Y H:i" }}</dd>
            </dl>
        </details>
    </figcaption>
</figure>
{% endblock %}