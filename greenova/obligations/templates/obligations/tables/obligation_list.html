{% extends "obligations/layouts/obligations_base.html" %}

<div class="table-container" role="region" aria-labelledby="table-title">
  <h2 id="table-title">
{{ title }}
  </h2>

  <progress class="htmx-indicator" aria-busy="true">
        Loading data...
  </progress>

  {% if data %}
    <table role="grid">
      <thead>
        <tr>
          {% for header in headers %}
            <th scope="col">
{{ header }}
            </th>
          {% endfor %}
        </tr>
      </thead>
      <tbody>
        {% for item in data %}
          <tr>
            {% for cell in item.values %}
              <td>
{{ cell }}
              </td>
            {% endfor %}
          </tr>
        {% endfor %}
      </tbody>
    </table>

  {% else %}
    <article role="alert">
      <p>
{{ empty_message|default:"No data found." }}
      </p>
      {% if add_url %}
        <a href="{{ add_url }}" role="button">{{ add_text|default:"Add New" }}</a>
      {% endif %}
    </article>
  {% endif %}
</div>
{% endblock content %}
