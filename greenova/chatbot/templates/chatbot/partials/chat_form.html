<form id="chat-form"
      method="post"
      hx-post="{% url 'chatbot:api' %}"
      hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'
      hx-target="#chat-messages"
      hx-swap="beforeend scroll:bottom"
      hx-trigger="submit"
      hx-indicator="#submit-loading">
    {% csrf_token %}
    <div class="input-group" role="group">
        <label for="message-input" class="sr-only">Message</label>
        <input type="text"
               id="message-input"
               name="message"
               required
               autocomplete="off"
               aria-describedby="chat-error"
               placeholder="Type your message...">
        <button type="submit" aria-label="Send message">
            Send
            <div id="submit-loading" 
                 class="loading"
                 aria-hidden="true">
                Sending...
            </div>
        </button>
    </div>
    <div id="chat-error"
         class="error-message"
         role="alert"
         aria-live="polite"
         hidden></div>
</form>